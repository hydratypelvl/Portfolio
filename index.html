<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drink Counter with Local Storage and Modal</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }

        .container {
            width: 320px; /* Set a fixed width for consistency */
            margin: 0 auto; /* Center align the container */
        }

        #drinks-list, #total, #buttons {
            width: 100%; /* Make sure each element takes full width of the container */
            margin-bottom: 20px;
        }

        #drinks-list {
            padding: 15px;
            border: 2px solid #ccc;
            border-radius: 15px; /* Rounded border for the whole list */
            background-color: #f9f9f9;
        }

        .drink-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 10px; /* Rounded border for each list item */
            background-color: #fff;
        }

        .drink-item button {
            padding: 5px 10px;
            font-size: 16px;
        }

        .drink-item .amount {
            font-size: 18px;
            width: 40px;
            text-align: center;
        }

        .drink-name {
            flex: 1;
            text-align: left;
            padding-right: 10px;
        }

        #total {
            font-size: 20px;
            font-weight: bold;
            padding: 10px;
            border: 2px solid #ccc;
            border-radius: 10px;
            background-color: #f1f1f1;
        }

        #total-content {
            margin-top: 10px;
        }

        #total-content div {
            font-weight: normal; /* Set font weight to normal for breakdown lines */
            font-size: 16px; /* Adjust font size if needed */
        }

        #buttons {
            display: flex;
            gap: 10px; /* Add gap between buttons */
            margin-top: 20px;
        }

        #reset, #submit {
            flex: 1;
            padding: 15px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 10px; /* Square buttons with slightly rounded corners */
            border: 2px solid #007bff; /* Border color same as submit button background */
            text-align: center;
            background-color: white; /* White background for reset button */
        }

        /* Submit Button (Primary) */
        #submit {
            background-color: #007bff;
            color: white;
            font-weight: bold;
            border: none; /* Remove border for submit button */
        }

        #submit:hover {
            background-color: #0056b3;
        }

        /* Reset Button (Secondary) */
        #reset {
            color: #007bff; /* Text color same as submit button background */
        }

        #reset:hover {
            background-color: #f1f1f1; /* Light gray background on hover */
        }

        /* Add Drink Section */
        #add-drink {
            display: flex;
            gap: 10px; /* Add gap between input and button */
            margin-bottom: 20px;
        }

        #add-drink input {
            flex: 1;
            padding: 10px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 5px;
        }

        #add-drink button {
            padding: 10px 15px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            border: 2px solid #007bff;
            background-color: #007bff;
            color: white;
            font-weight: bold;
        }

        #add-drink button:hover {
            background-color: #0056b3;
        }

        /* Modal styles */
        #modal {
            display: none; /* Initially hidden */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }

        #modal-content {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            width: 300px;
        }

        .checkmark {
            font-size: 50px;
            color: green;
        }

        #close-modal {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            border: none;
            background-color: #007bff;
            color: white;
            font-weight: bold;
        }

        #close-modal:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

    <div class="container">
        <h2>Drink Counter</h2>

        <div id="drinks-list">
            <!-- Drinks will be added dynamically here -->
        </div>

        <div id="add-drink">
            <input type="text" id="new-drink" placeholder="Add a new drink" />
            <button id="add-button">Add Drink</button>
        </div>

        <div id="total">
            <span id="total-number">Total Drinks: 0</span>
            <div id="total-content"></div> <!-- Breakdown will be injected here -->
        </div>

        <div id="buttons">
            <button id="reset">Reset</button>
            <button id="submit">Submit</button>
        </div>

        <!-- Modal -->
        <div id="modal">
            <div id="modal-content">
                <div class="checkmark">&#10003;</div> <!-- Checkmark Icon -->
                <p>Thanks for submitting!</p>
                <button id="close-modal">Okay</button>
            </div>
        </div>
    </div>

    <script>
        // List of drinks
        const initialDrinks = ["Vodka", "Tequila", "Beer", "Whiskey", "Rum"];
        let drinks = [...initialDrinks];

        // Retrieve saved counts from localStorage or initialize to zero
        const savedCounts = JSON.parse(localStorage.getItem('counts')) || Array(drinks.length).fill(0);
        let totalDrinks = parseInt(localStorage.getItem('total')) || 0;

        // Function to create a drink item
        function createDrinkItem(drinkName, index) {
            const drinkItem = document.createElement("div");
            drinkItem.className = "drink-item";

            const drinkNameEl = document.createElement("span");
            drinkNameEl.className = "drink-name";
            drinkNameEl.innerText = drinkName;

            const minusButton = document.createElement("button");
            minusButton.innerText = "-";
            minusButton.onclick = function() {
                const amountEl = drinkItem.querySelector(".amount");
                let currentAmount = parseInt(amountEl.innerText);
                if (currentAmount > 0) {
                    amountEl.innerText = currentAmount - 1;
                    totalDrinks -= 1;
                    savedCounts[index] -= 1;
                    updateTotal();
                    saveData();
                }
            };

            const amountEl = document.createElement("span");
            amountEl.className = "amount";
            amountEl.innerText = savedCounts[index];

            const plusButton = document.createElement("button");
            plusButton.innerText = "+";
            plusButton.onclick = function() {
                const amountEl = drinkItem.querySelector(".amount");
                let currentAmount = parseInt(amountEl.innerText);
                amountEl.innerText = currentAmount + 1;
                totalDrinks += 1;
                savedCounts[index] += 1;
                updateTotal();
                saveData();
            };

            drinkItem.appendChild(drinkNameEl);
            drinkItem.appendChild(minusButton);
            drinkItem.appendChild(amountEl);
            drinkItem.appendChild(plusButton);

            return drinkItem;
        }

        // Update the total drinks count in the total div
        function updateTotal() {
            document.getElementById("total-number").innerText = "Total Drinks: " + totalDrinks;
            const totalContent = document.getElementById("total-content");
            totalContent.innerHTML = ""; // Clear previous breakdown

            // Generate breakdown of drink counts
            savedCounts.forEach((count, index) => {
                if (count > 0) {
                    const breakdownLine = document.createElement("div");
                    breakdownLine.innerText = drinks[index] + " - " + count;
                    totalContent.appendChild(breakdownLine);
                }
            });
        }

        // Save data to localStorage
        function saveData() {
            localStorage
                        localStorage.setItem('total', totalDrinks);
            localStorage.setItem('counts', JSON.stringify(savedCounts));
        }

        // Reset all drink counts
        function resetDrinks() {
            savedCounts.fill(0);
            totalDrinks = 0;
            saveData();
            updateTotal();
            document.querySelectorAll('.amount').forEach(el => el.innerText = "0");
        }

        // Modal functionality
        function showModal() {
            document.getElementById("modal").style.display = "flex";
        }

        function closeModal() {
            document.getElementById("modal").style.display = "none";
            resetDrinks();
        }

        // Add new drink
        function addNewDrink(drinkName) {
            if (drinkName && !drinks.includes(drinkName)) {
                drinks.push(drinkName);
                savedCounts.push(0); // Add initial count of 0 for new drink
                const newDrinkItem = createDrinkItem(drinkName, drinks.length - 1);
                document.getElementById("drinks-list").appendChild(newDrinkItem);
                saveData();
                updateTotal();
            }
        }

        // Add initial drinks to the list
        function initializeDrinks() {
            const drinksList = document.getElementById("drinks-list");
            drinks.forEach((drink, index) => {
                const drinkItem = createDrinkItem(drink, index);
                drinksList.appendChild(drinkItem);
            });
            updateTotal();
        }

        // Event Listeners
        document.getElementById("reset").addEventListener("click", resetDrinks);
        document.getElementById("submit").addEventListener("click", showModal);
        document.getElementById("close-modal").addEventListener("click", closeModal);

        document.getElementById("add-button").addEventListener("click", () => {
            const newDrinkInput = document.getElementById("new-drink");
            const newDrinkName = newDrinkInput.value.trim();
            newDrinkInput.value = ""; // Clear the input field
            addNewDrink(newDrinkName);
        });

        // Initialize the page
        initializeDrinks();
    </script>
</body>
</html>

