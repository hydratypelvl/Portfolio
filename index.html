<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drink Counter with Local Storage</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }

        #drinks-list {
            width: 320px;
            padding: 15px;
            border: 2px solid #ccc;
            border-radius: 15px; /* Rounded border for the whole list */
            background-color: #f9f9f9;
            margin-bottom: 20px;
        }

        .drink-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 10px; /* Rounded border for each list item */
            background-color: #fff;
        }

        .drink-item button {
            padding: 5px 10px;
            font-size: 16px;
        }

        .drink-item .amount {
            font-size: 18px;
            width: 40px;
            text-align: center;
        }

        .drink-name {
            flex: 1;
            text-align: left;
            padding-right: 10px;
        }

        #total {
            font-size: 20px;
            font-weight: bold;
            margin-top: 20px;
            padding: 10px;
            border: 2px solid #ccc;
            border-radius: 10px;
            background-color: #f1f1f1;
        }
    </style>
</head>
<body>

    <h2>Drink Counter</h2>

    <div id="drinks-list">
        <!-- Drinks will be added dynamically here -->
    </div>

    <div id="total">Total Drinks: 0</div> <!-- Total div -->

    <script>
        // List of drinks
        const drinks = ["Vodka", "Tequila", "Beer", "Whiskey", "Rum"];

        // Function to retrieve saved counts from localStorage or set to initial state
        const savedCounts = JSON.parse(localStorage.getItem('counts')) || Array(drinks.length).fill(0);

        // Retrieve saved total from localStorage or set to 0
        let totalDrinks = parseInt(localStorage.getItem('total')) || 0;

        // Function to create a drink item
        function createDrinkItem(drinkName, index) {
            // Create container for the drink item
            const drinkItem = document.createElement("div");
            drinkItem.className = "drink-item";

            // Create the drink name element
            const drinkNameEl = document.createElement("span");
            drinkNameEl.className = "drink-name";
            drinkNameEl.innerText = drinkName;

            // Create the minus button
            const minusButton = document.createElement("button");
            minusButton.innerText = "-";
            minusButton.onclick = function() {
                const amountEl = drinkItem.querySelector(".amount");
                let currentAmount = parseInt(amountEl.innerText);
                if (currentAmount > 0) {
                    amountEl.innerText = currentAmount - 1;
                    totalDrinks -= 1; // Decrease total drinks
                    savedCounts[index] -= 1; // Update local saved count
                    updateTotal();
                    saveData();
                }
            };

            // Create the amount display element
            const amountEl = document.createElement("span");
            amountEl.className = "amount";
            amountEl.innerText = savedCounts[index]; // Load the saved value or default to 0

            // Create the plus button
            const plusButton = document.createElement("button");
            plusButton.innerText = "+";
            plusButton.onclick = function() {
                const amountEl = drinkItem.querySelector(".amount");
                let currentAmount = parseInt(amountEl.innerText);
                amountEl.innerText = currentAmount + 1;
                totalDrinks += 1; // Increase total drinks
                savedCounts[index] += 1; // Update local saved count
                updateTotal();
                saveData();
            };

            // Append elements to the drink item container
            drinkItem.appendChild(drinkNameEl);
            drinkItem.appendChild(minusButton);
            drinkItem.appendChild(amountEl);
            drinkItem.appendChild(plusButton);

            return drinkItem;
        }

        // Update the total drinks count in the total div
        function updateTotal() {
            document.getElementById("total").innerText = "Total Drinks: " + totalDrinks;
        }

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('total', totalDrinks); // Save total drinks
            localStorage.setItem('counts', JSON.stringify(savedCounts)); // Save individual drink counts
        }

        // Add drinks to the list
        const drinksList = document.getElementById("drinks-list");
        drinks.forEach((drink, index) => {
            const drinkItem = createDrinkItem(drink, index);
            drinksList.appendChild(drinkItem);
        });

        // Update total on page load
        updateTotal();

    </script>

</body>
</html>
